<!-- This is simply everything that exists inside the report's body 
 
  refer to src/util/html/templates/template.html for the rest of the HTML boilerplate
-->
<section>
  <div class="section-context">
    <p>The Watershed Report summarizes key characteristics and metrics of the watershed within a specific area of
      interest.</p>
  </div>
  {% if message %}
  <div class="error-message">
    <p>{{ message.text }}</p>
  </div>
  {% endif %}
</section>


<section id="watershed">
  <h1>Watershed</h1>
  <dl class="metric-grid">
    {% for key, card in cards.items() if key in ["sum_hucareasqkm"] %}
    <div class="metric">
      <dt>{{ card.title }}</dt>
      <dd class="metric-number">{{ card.value }}</dd>
      {% if card.details %}
      <dd class="metric-details">{{ card.details }}</dd>
      {% endif %}
    </div>
    {% endfor %}
  </dl>

  <h3>States</h3>
  The selected watersheds are found within:
  <ul>
    {% for state in states %}
    <li>{{ state }}</li>
    {% endfor %}
  </ul>

</section>

<!-- <section id="map-of-polygons">
  <h2>Report Area of Interest</h2>
  <div class="section-context">
    <p>The following map shows the area of interest for which the report was generated.</p>
  </div>
  <figure class="report-figure map">
    <div>{{ figures['map']|safe }}</div>
  </figure>
</section> -->

<section id="HUC">
  <h2>Ownership</h2>
  <figure class="report-figure">
    {{ tables['ownership'] | safe }}
  </figure>
</section>

<section id="hydrography">
  <h2>Hydrographic Network</h2>
  <figure class="report-figure">
    {{ tables['hydrography'] | safe }}
  </figure>
  <dl class="metric-grid">
    {% for key, card in cards.items() if key in ["sum_flowlinefeaturecount","avg_segment_length"] %}
    <div class="metric">
      <dt>{{ card.title }}</dt>
      <dd class="metric-number">{{ card.value }}</dd>
      {% if card.details %}
      <dd class="metric-details">{{ card.details }}</dd>
      {% endif %}
    </div>
    {% endfor %}
  </dl>
</section>

<section id="waterbodies">
  <h2>Waterbodies</h2>
  <figure class="report-figure">
    {{tables['waterbodies']|safe}}
  </figure>
</section>

<section id="climate">
  <h2>Climate - PRISM Mean Annual Precipitation</h2>
  <p>Data are derived from <a href="https://prism.oregonstate.edu/normals/">PRISM 30 year normal precipitation</a>
    raster dataset with 800m spatial resolution. These statistics
    illustrate the range of average annual precipitation values over the spatial extent of the subject area of interest.
  </p>
  <dl class="metric-grid">
    {% for key, card in cards.items() if key in ["mean_precip_cell_value","min_precipminimum","max_precipmaximum"] %}
    <div class="metric">
      <dt>{{ card.title }}</dt>
      <dd class="metric-number">{{ card.value }}</dd>
      {% if card.details %}
      <dd class="metric-details">{{ card.details }}</dd>
      {% endif %}
    </div>
    {% endfor %}
  </dl>
</section>